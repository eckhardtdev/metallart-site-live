---
import StoryblokPicture from '@/components/storyblok/StoryblokPicture.astro'
import { applyLinkAttrs } from '@/utils/link'
import clsx from 'clsx'
import Icon from './Icon.astro'

export type Props = {
  aspectRatio?: string
  class?: string
  title?: string
  featured?: boolean
  image?: {
    filename: string
    alt?: string
    focus?: string
  }
  // link: MultilinkStoryblok
  url?: string
  [key: string]: any
}

const { class: className, title, image, url } = Astro.props
---

<a {...applyLinkAttrs(url)} class={clsx('group relative block', className)}>
  <figure>
    {
      image?.filename && (
        <StoryblokPicture
          image={image}
          class="rounded"
          sizes="50vw"
          aspectRatio="1/1"
          classPicture="card-hover"
        />
      )
    }
    {
      title && (
        <figcaption class="mt-2 whitespace-pre-line text-18 leading-120 lg:mt-5">
          {title}
        </figcaption>
      )
    }
  </figure>
</a>
